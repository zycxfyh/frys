{
  "name": "frys",
  "version": "1.0.0",
  "description": "frys Production - 企业级工作流管理系统",
  "type": "module",
  "main": "src/index.js",
  "scripts": {
    "start": "node src/index.js",
    "dev": "node --watch src/index.js",
    "test": "vitest run",
    "test:watch": "vitest",
    "test:coverage": "vitest run --coverage",
    "test:coverage:watch": "vitest --coverage --watch",
    "test:unit": "vitest run tests/unit/",
    "test:unit:watch": "vitest tests/unit/",
    "test:integration": "vitest run tests/integration/",
    "test:integration:watch": "vitest tests/integration/",
    "test:performance": "node scripts/monitoring/performance-monitor.js --server 3000 --duration 30000",
    "test:performance:ci": "vitest run tests/performance/ --tag performance",
    "test:security": "vitest run tests/integration/security-integration.test.js",
    "test:security:ci": "vitest run tests/security/ --tag security",
    "test:red-team": "vitest run tests/red-team/ --tag redteam",
    "test:red-team:watch": "vitest tests/red-team/ --tag redteam",
    "test:regression": "vitest run tests/regression/",
    "test:e2e": "node scripts/test/e2e-test-framework.js",
    "test:e2e:ci": "vitest run --tag e2e",
    "test:smoke": "vitest run tests/unit/ --reporter=verbose",
    "test:smoke:api": "vitest run tests/integration/health-checks/ --reporter=verbose",
    "test:e2e:api": "vitest run tests/integration/ --grep 'API' --reporter=verbose",
    "test:e2e:integration": "vitest run tests/integration/ --grep 'UI\\|E2E' --reporter=verbose",
    "test:integration:light": "vitest run tests/integration/health-checks/ tests/integration/auth/ --reporter=verbose",
    "test:industrial": "node scripts/run-industrial-tests.js",
    "test:industrial:smoke": "node scripts/smart-test-runner.js --smoke",
    "test:industrial:critical": "node scripts/smart-test-runner.js --critical",
    "test:smart": "node scripts/smart-test-runner.js",
    "test:smart:fast": "node scripts/smart-test-runner.js --fast",
    "test:smart:full": "node scripts/smart-test-runner.js --full",
    "test:smart:unit": "node scripts/smart-test-runner.js --tags unit",
    "test:smart:integration": "node scripts/smart-test-runner.js --tags integration",
    "test:smart:core": "node scripts/smart-test-runner.js --tags core",
    "test:smart:http": "node scripts/smart-test-runner.js --tags http",
    "test:ci": "vitest run --coverage --reporter=json --outputFile=test-results/ci-results.json",
    "test:ci:unit": "vitest run tests/unit/ --coverage --reporter=json --outputFile=test-results/unit-results.json",
    "test:ci:integration": "vitest run tests/integration/ --coverage --reporter=json --outputFile=test-results/integration-results.json",
    "test:containers": "SKIP_TEST_CONTAINERS=false pnpm run test:integration",
    "test:no-containers": "SKIP_TEST_CONTAINERS=true pnpm run test:integration",
    "test:comprehensive": "node scripts/run-comprehensive-tests.js",
    "test:load": "node scripts/load-generator.js http://localhost:3000 --quick",
    "test:stress": "node scripts/load-generator.js http://localhost:3000 --stress",
    "test:all": "pnpm run test:unit && pnpm run test:integration && pnpm run test:performance && pnpm run test:security && pnpm run test:e2e",
    "test:flaky": "vitest run --retry 3 --reporter=verbose",
    "test:debug": "vitest run --reporter=verbose --no-coverage",
    "test:profile": "vitest run --profile",
    "benchmark": "node scripts/performance-benchmark.js",
    "test:report": "node scripts/generate-test-report.js",
    "test:coverage:analyze": "node scripts/coverage-trend-analyzer.js",
    "test:stability": "node scripts/test-stability-monitor.js",
    "test:stability:quick": "node scripts/test-stability-monitor.js --runs 3",
    "test:e2e:ui": "playwright test",
    "test:e2e:ui:headed": "playwright test --headed",
    "test:e2e:ui:debug": "playwright test --debug",
    "test:e2e:ui:report": "playwright show-report",
    "test:visual": "playwright test tests/visual/",
    "test:accessibility": "playwright test tests/accessibility/",
    "lint": "eslint src/core/ --ext .js",
    "lint:fix": "eslint src --fix",
    "format": "prettier --write \"src/**/*.{js,json,md}\"",
    "format:check": "prettier --check \"src/**/*.{js,json}\" \"package.json\" \"vitest.config.js\" \"docs/*.md\"",
    "build:prod": "cross-env NODE_ENV=production pnpm run build",
    "clean": "rm -rf node_modules pnpm-lock.yaml dist coverage test-results && pnpm install",
    "quality": "node scripts/quality-check.js --simplified",
    "quality:ci": "cross-env QUALITY_MAX_CONCURRENCY=2 QUALITY_FAIL_FAST=true QUALITY_CACHE_ENABLED=true node scripts/quality-check.js --simplified",
    "quality:full": "cross-env QUALITY_MAX_CONCURRENCY=1 QUALITY_FAIL_FAST=false QUALITY_CACHE_ENABLED=false node scripts/quality-check.js",
    "quality:quick": "node scripts/quality-check.js --quick",
    "security:audit": "node scripts/security-audit.js",
    "security:audit:ci": "cross-env SECURITY_AUDIT_FAIL_ON_VULN=true SECURITY_AUDIT_CODE_ANALYSIS=true SECURITY_AUDIT_CONFIG_AUDIT=true node scripts/security-audit.js",
    "ci": "node scripts/ci-pipeline.js --env production",
    "ci:staging": "node scripts/ci-pipeline.js --env staging",
    "ci:development": "node scripts/ci-pipeline.js --env development",
    "ci:pr": "node scripts/ci-pipeline.js --pr $PR_NUMBER --env development",
    "pr:check": "node scripts/pr-check.js",
    "pipeline:dev": "node scripts/ci-pipeline.js --env development --no-cache",
    "pipeline:staging": "node scripts/ci-pipeline.js --env staging",
    "pipeline:prod": "node scripts/ci-pipeline.js --env production",
    "pipeline:dry-run": "node scripts/ci-pipeline.js --dry-run",
    "staging:setup": "node scripts/setup-staging.js",
    "staging:up": "docker-compose -f docker-compose.staging.yml up -d",
    "staging:down": "docker-compose -f docker-compose.staging.yml down",
    "staging:logs": "docker-compose -f docker-compose.staging.yml logs -f",
    "staging:test": "node scripts/regression-matrix.js",
    "staging:sqlite": "./scripts/staging-db-switch.sh sqlite",
    "staging:postgres": "./scripts/staging-db-switch.sh postgres",
    "staging:status": "./scripts/staging-db-switch.sh status",
    "deploy": "./scripts/deploy.sh",
    "deploy:staging": "DEPLOY_ENV=staging ./scripts/deploy.sh",
    "rollback": "./scripts/rollback.sh",
    "rollback:staging": "DEPLOY_ENV=staging ./scripts/rollback.sh",
    "rollback:smart": "node scripts/smart-rollback.js",
    "rollback:monitor": "node scripts/smart-rollback.js monitor",
    "rollback:manual": "node scripts/smart-rollback.js rollback",
    "rollback:emergency": "node scripts/smart-rollback.js emergency",
    "rollback:verify": "node scripts/rollback-verifier.js",
    "verify:deployment": "node scripts/verify-deployment.js",
    "verify:staging": "DEPLOY_ENV=staging node scripts/verify-deployment.js",
    "secrets": "node scripts/manage-secrets.js",
    "secrets:list": "node scripts/manage-secrets.js list",
    "secrets:init": "node scripts/manage-secrets.js init",
    "secrets:stats": "node scripts/manage-secrets.js stats",
    "slo:check": "node scripts/slo-check.js",
    "slo:baseline": "node scripts/slo-check.js --baseline",
    "github:setup": "./scripts/setup-github-repo.sh",
    "light:start": "zx scripts/light-start.mjs",
    "build": "zx scripts/light-build.mjs",
    "build:fast": "cross-env BUILDER=swc BUILD_MODE=production zx scripts/light-build.mjs",
    "build:swc": "cross-env BUILDER=swc zx scripts/light-build.mjs",
    "docker:build": "docker build -f config/docker/Dockerfile -t frys:latest .",
    "docker:push": "docker push frys:latest",
    "light:test": "zx scripts/light-test.mjs",
    "light:deploy": "zx scripts/light-deploy.mjs",
    "module:check": "zx scripts/module-health.mjs",
    "workspace:install": "pnpm install",
    "workspace:clean": "pnpm run clean",
    "workspace:build": "pnpm run build",
    "workspace:test": "pnpm run test",
    "workspace:lint": "pnpm run lint"
  },
  "keywords": [
    "workflow",
    "lightweight",
    "modular",
    "devops"
  ],
  "author": "frys Team",
  "license": "MIT",
  "engines": {
    "node": ">=16.0.0"
  },
  "dependencies": {
    "@fastify/swagger": "^9.5.2",
    "@sentry/node": "^7.74.1",
    "@sentry/profiling-node": "^1.2.6",
    "awilix": "^8.0.1",
    "axios": "^1.4.0",
    "bull": "^4.10.4",
    "eventemitter3": "^5.0.1",
    "fastify": "^5.6.1",
    "fastify-plugin": "^4.5.1",
    "ioredis": "^5.3.2",
    "jsonwebtoken": "^9.0.2",
    "lodash": "^4.17.21",
    "uuid": "^9.0.0",
    "ws": "^8.18.3",
    "zustand": "^4.4.1"
  },
  "devDependencies": {
    "@axe-core/playwright": "^4.11.0",
    "@babel/core": "^7.28.5",
    "@babel/preset-env": "^7.28.5",
    "@playwright/test": "^1.40.0",
    "@swc/cli": "^0.7.9",
    "@swc/core": "^1.15.0",
    "@testcontainers/postgresql": "^11.8.0",
    "@testcontainers/redis": "^11.8.0",
    "@typescript-eslint/eslint-plugin": "^8.46.3",
    "@typescript-eslint/parser": "^8.46.3",
    "@vitest/coverage-istanbul": "^4.0.8",
    "cross-env": "^10.1.0",
    "dotenv": "^16.3.1",
    "esbuild": "^0.19.5",
    "eslint": "^8.57.1",
    "eslint-plugin-import": "^2.32.0",
    "eslint-plugin-node": "^11.1.0",
    "eslint-plugin-security": "^3.0.1",
    "lefthook": "^2.0.2",
    "prettier": "^3.0.0",
    "testcontainers": "^11.8.0",
    "vitest": "^4.0.8",
    "zx": "^7.2.3"
  },
  "eslintConfig": {
    "env": {
      "node": true,
      "es2021": true,
      "browser": true
    },
    "extends": [
      "eslint:recommended"
    ],
    "parserOptions": {
      "ecmaVersion": 12,
      "sourceType": "module"
    },
    "rules": {
      "no-unused-vars": [
        "warn",
        {
          "argsIgnorePattern": "^_",
          "varsIgnorePattern": "^_"
        }
      ],
      "no-console": "off"
    }
  },
  "prettier": {
    "semi": true,
    "singleQuote": true,
    "printWidth": 80,
    "tabWidth": 2
  }
}
