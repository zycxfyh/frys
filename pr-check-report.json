{
  "timestamp": "2025-11-06T12:10:08.795Z",
  "results": {
    "passed": 5,
    "failed": 2,
    "warnings": 1
  },
  "errors": [
    "集成测试执行: Command failed: npm run test:integration\n\n\u001b[31m⎯⎯⎯⎯⎯⎯\u001b[39m\u001b[1m\u001b[41m Failed Tests 18 \u001b[49m\u001b[22m\u001b[31m⎯⎯⎯⎯⎯⎯⎯\u001b[39m\n\n\u001b[41m\u001b[1m FAIL \u001b[22m\u001b[49m tests/integration/end-to-end-workflow.test.js\u001b[2m > \u001b[22m端到端工作流测试\u001b[2m > \u001b[22m用户认证工作流\u001b[2m > \u001b[22m应该完成完整的用户登录流程\n\u001b[41m\u001b[1m FAIL \u001b[22m\u001b[49m tests/integration/end-to-end-workflow.test.js\u001b[2m > \u001b[22m端到端工作流测试\u001b[2m > \u001b[22m用户认证工作流\u001b[2m > \u001b[22m应该处理认证过期和刷新\n\u001b[41m\u001b[1m FAIL \u001b[22m\u001b[49m tests/integration/end-to-end-workflow.test.js\u001b[2m > \u001b[22m端到端工作流测试\u001b[2m > \u001b[22m工作流创建和管理\u001b[2m > \u001b[22m应该创建和管理完整的工作流\n\u001b[41m\u001b[1m FAIL \u001b[22m\u001b[49m tests/integration/end-to-end-workflow.test.js\u001b[2m > \u001b[22m端到端工作流测试\u001b[2m > \u001b[22m工作流创建和管理\u001b[2m > \u001b[22m应该处理工作流数据分析\n\u001b[41m\u001b[1m FAIL \u001b[22m\u001b[49m tests/integration/end-to-end-workflow.test.js\u001b[2m > \u001b[22m端到端工作流测试\u001b[2m > \u001b[22m实时协作功能\u001b[2m > \u001b[22m应该处理实时用户协作\n\u001b[41m\u001b[1m FAIL \u001b[22m\u001b[49m tests/integration/end-to-end-workflow.test.js\u001b[2m > \u001b[22m端到端工作流测试\u001b[2m > \u001b[22m实时协作功能\u001b[2m > \u001b[22m应该处理工作流状态同步\n\u001b[41m\u001b[1m FAIL \u001b[22m\u001b[49m tests/integration/end-to-end-workflow.test.js\u001b[2m > \u001b[22m端到端工作流测试\u001b[2m > \u001b[22m完整业务流程\u001b[2m > \u001b[22m应该执行完整的业务工作流\n\u001b[41m\u001b[1m FAIL \u001b[22m\u001b[49m tests/integration/end-to-end-workflow.test.js\u001b[2m > \u001b[22m端到端工作流测试\u001b[2m > \u001b[22m错误处理和恢复\u001b[2m > \u001b[22m应该处理网络错误和重试机制\n\u001b[41m\u001b[1m FAIL \u001b[22m\u001b[49m tests/integration/end-to-end-workflow.test.js\u001b[2m > \u001b[22m端到端工作流测试\u001b[2m > \u001b[22m错误处理和恢复\u001b[2m > \u001b[22m应该处理认证失效和重新认证\n\u001b[31m\u001b[1mTypeError\u001b[22m: date.initialize is not a function\u001b[39m\n\u001b[36m \u001b[2m❯\u001b[22m tests/integration/end-to-end-workflow.test.js:\u001b[2m32:16\u001b[22m\u001b[39m\n    \u001b[90m 30| \u001b[39m    \u001b[35mawait\u001b[39m utils\u001b[33m.\u001b[39m\u001b[34minitialize\u001b[39m()\u001b[33m;\u001b[39m\n    \u001b[90m 31| \u001b[39m    \u001b[35mawait\u001b[39m messaging\u001b[33m.\u001b[39m\u001b[34minitialize\u001b[39m()\u001b[33m;\u001b[39m\n    \u001b[90m 32| \u001b[39m    \u001b[35mawait\u001b[39m date\u001b[33m.\u001b[39m\u001b[34minitialize\u001b[39m()\u001b[33m;\u001b[39m\n    \u001b[90m   | \u001b[39m               \u001b[31m^\u001b[39m\n    \u001b[90m 33| \u001b[39m\n    \u001b[90m 34| \u001b[39m    \u001b[90m// 设置认证密钥\u001b[39m\n\n\u001b[31m\u001b[2m⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯[1/27]⎯\u001b[22m\u001b[39m\n\n\u001b[41m\u001b[1m FAIL \u001b[22m\u001b[49m tests/integration/end-to-end-workflow.test.js\u001b[2m > \u001b[22m端到端工作流测试\u001b[2m > \u001b[22m用户认证工作流\u001b[2m > \u001b[22m应该完成完整的用户登录流程\n\u001b[41m\u001b[1m FAIL \u001b[22m\u001b[49m tests/integration/end-to-end-workflow.test.js\u001b[2m > \u001b[22m端到端工作流测试\u001b[2m > \u001b[22m用户认证工作流\u001b[2m > \u001b[22m应该处理认证过期和刷新\n\u001b[41m\u001b[1m FAIL \u001b[22m\u001b[49m tests/integration/end-to-end-workflow.test.js\u001b[2m > \u001b[22m端到端工作流测试\u001b[2m > \u001b[22m工作流创建和管理\u001b[2m > \u001b[22m应该创建和管理完整的工作流\n\u001b[41m\u001b[1m FAIL \u001b[22m\u001b[49m tests/integration/end-to-end-workflow.test.js\u001b[2m > \u001b[22m端到端工作流测试\u001b[2m > \u001b[22m工作流创建和管理\u001b[2m > \u001b[22m应该处理工作流数据分析\n\u001b[41m\u001b[1m FAIL \u001b[22m\u001b[49m tests/integration/end-to-end-workflow.test.js\u001b[2m > \u001b[22m端到端工作流测试\u001b[2m > \u001b[22m实时协作功能\u001b[2m > \u001b[22m应该处理实时用户协作\n\u001b[41m\u001b[1m FAIL \u001b[22m\u001b[49m tests/integration/end-to-end-workflow.test.js\u001b[2m > \u001b[22m端到端工作流测试\u001b[2m > \u001b[22m实时协作功能\u001b[2m > \u001b[22m应该处理工作流状态同步\n\u001b[41m\u001b[1m FAIL \u001b[22m\u001b[49m tests/integration/end-to-end-workflow.test.js\u001b[2m > \u001b[22m端到端工作流测试\u001b[2m > \u001b[22m完整业务流程\u001b[2m > \u001b[22m应该执行完整的业务工作流\n\u001b[41m\u001b[1m FAIL \u001b[22m\u001b[49m tests/integration/end-to-end-workflow.test.js\u001b[2m > \u001b[22m端到端工作流测试\u001b[2m > \u001b[22m错误处理和恢复\u001b[2m > \u001b[22m应该处理网络错误和重试机制\n\u001b[41m\u001b[1m FAIL \u001b[22m\u001b[49m tests/integration/end-to-end-workflow.test.js\u001b[2m > \u001b[22m端到端工作流测试\u001b[2m > \u001b[22m错误处理和恢复\u001b[2m > \u001b[22m应该处理认证失效和重新认证\n\u001b[31m\u001b[1mTypeError\u001b[22m: date.destroy is not a function\u001b[39m\n\u001b[36m \u001b[2m❯\u001b[22m tests/integration/end-to-end-workflow.test.js:\u001b[2m181:26\u001b[22m\u001b[39m\n    \u001b[90m179| \u001b[39m    \u001b[35mif\u001b[39m (utils) \u001b[35mawait\u001b[39m utils\u001b[33m.\u001b[39m\u001b[34mdestroy\u001b[39m()\u001b[33m;\u001b[39m\n    \u001b[90m180| \u001b[39m    \u001b[35mif\u001b[39m (messaging) \u001b[35mawait\u001b[39m messaging\u001b[33m.\u001b[39m\u001b[34mdestroy\u001b[39m()\u001b[33m;\u001b[39m\n    \u001b[90m181| \u001b[39m    \u001b[35mif\u001b[39m (date) \u001b[35mawait\u001b[39m date\u001b[33m.\u001b[39m\u001b[34mdestroy\u001b[39m()\u001b[33m;\u001b[39m\n    \u001b[90m   | \u001b[39m                         \u001b[31m^\u001b[39m\n    \u001b[90m182| \u001b[39m    http \u001b[33m=\u001b[39m \u001b[35mnull\u001b[39m\u001b[33m;\u001b[39m\n    \u001b[90m183| \u001b[39m    jwt \u001b[33m=\u001b[39m \u001b[35mnull\u001b[39m\u001b[33m;\u001b[39m\n\n\u001b[31m\u001b[2m⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯[2/27]⎯\u001b[22m\u001b[39m\n\n\u001b[41m\u001b[1m FAIL \u001b[22m\u001b[49m tests/integration/messaging-state-integration.test.js\u001b[2m > \u001b[22m消息队列与状态管理集成测试\u001b[2m > \u001b[22m实时消息同步\u001b[2m > \u001b[22m应该通过消息队列实时更新状态\n\u001b[41m\u001b[1m FAIL \u001b[22m\u001b[49m tests/integration/messaging-state-integration.test.js\u001b[2m > \u001b[22m消息队列与状态管理集成测试\u001b[2m > \u001b[22m实时消息同步\u001b[2m > \u001b[22m应该处理广播消息和群体状态更新\n\u001b[41m\u001b[1m FAIL \u001b[22m\u001b[49m tests/integration/messaging-state-integration.test.js\u001b[2m > \u001b[22m消息队列与状态管理集成测试\u001b[2m > \u001b[22m消息队列驱动的状态机\u001b[2m > \u001b[22m应该实现基于消息的事件驱动状态机\n\u001b[41m\u001b[1m FAIL \u001b[22m\u001b[49m tests/integration/messaging-state-integration.test.js\u001b[2m > \u001b[22m消息队列与状态管理集成测试\u001b[2m > \u001b[22m消息队列驱动的状态机\u001b[2m > \u001b[22m应该处理并发消息和状态竞争\n\u001b[41m\u001b[1m FAIL \u001b[22m\u001b[49m tests/integration/messaging-state-integration.test.js\u001b[2m > \u001b[22m消息队列与状态管理集成测试\u001b[2m > \u001b[22m消息持久化和状态恢复\u001b[2m > \u001b[22m应该支持消息持久化和状态重建\n\u001b[41m\u001b[1m FAIL \u001b[22m\u001b[49m tests/integration/messaging-state-integration.test.js\u001b[2m > \u001b[22m消息队列与状态管理集成测试\u001b[2m > \u001b[22m消息持久化和状态恢复\u001b[2m > \u001b[22m应该处理消息队列的故障恢复\n\u001b[41m\u001b[1m FAIL \u001b[22m\u001b[49m tests/integration/messaging-state-integration.test.js\u001b[2m > \u001b[22m消息队列与状态管理集成测试\u001b[2m > \u001b[22m实时协作和状态同步\u001b[2m > \u001b[22m应该支持多用户实时协作状态同步\n\u001b[31m\u001b[1mTypeError\u001b[22m: connection.close is not a function\u001b[39m\n\u001b[36m \u001b[2m❯\u001b[22m tests/integration/messaging-state-integration.test.js:\u001b[2m178:38\u001b[22m\u001b[39m\n    \u001b[90m176| \u001b[39m\n    \u001b[90m177| \u001b[39m  \u001b[34mafterEach\u001b[39m(\u001b[35masync\u001b[39m () \u001b[33m=>\u001b[39m {\n    \u001b[90m178| \u001b[39m    \u001b[35mif\u001b[39m (connection) \u001b[35mawait\u001b[39m connection\u001b[33m.\u001b[39m\u001b[34mclose\u001b[39m()\u001b[33m;\u001b[39m\n    \u001b[90m   | \u001b[39m                                     \u001b[31m^\u001b[39m\n    \u001b[90m179| \u001b[39m    \u001b[35mif\u001b[39m (messaging) \u001b[35mawait\u001b[39m messaging\u001b[33m.\u001b[39m\u001b[34mdestroy\u001b[39m()\u001b[33m;\u001b[39m\n    \u001b[90m180| \u001b[39m    \u001b[35mif\u001b[39m (state) \u001b[35mawait\u001b[39m state\u001b[33m.\u001b[39m\u001b[34mdestroy\u001b[39m()\u001b[33m;\u001b[39m\n\n\u001b[31m\u001b[2m⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯[3/27]⎯\u001b[22m\u001b[39m\n\n\u001b[41m\u001b[1m FAIL \u001b[22m\u001b[49m tests/integration/state-utils-integration.test.js\u001b[2m > \u001b[22m状态管理与工具函数集成测试\u001b[2m > \u001b[22m内存管理和数据清理\u001b[2m > \u001b[22m应该处理循环引用和复杂对象\n\u001b[31m\u001b[1mAssertionError\u001b[22m: expected [Function] to throw error including 'Object is not serializable' but got '对象包含循环引用，无法深度克隆'\u001b[39m\n\nExpected: \u001b[32m\"Object is not serializable\"\u001b[39m\nReceived: \u001b[31m\"对象包含循环引用，无法深度克隆\"\u001b[39m\n\n\u001b[36m \u001b[2m❯\u001b[22m tests/integration/state-utils-integration.test.js:\u001b[2m370:10\u001b[22m\u001b[39m\n    \u001b[90m368| \u001b[39m      \u001b[34mexpect\u001b[39m(() \u001b[33m=>\u001b[39m {\n    \u001b[90m369| \u001b[39m        utils\u001b[33m.\u001b[39m\u001b[34mcloneDeep\u001b[39m(parent)\u001b[33m;\u001b[39m\n    \u001b[90m370| \u001b[39m      })\u001b[33m.\u001b[39m\u001b[34mtoThrow\u001b[39m(\u001b[32m'Object is not serializable'\u001b[39m)\u001b[33m;\u001b[39m\n    \u001b[90m   | \u001b[39m         \u001b[31m^\u001b[39m\n    \u001b[90m371| \u001b[39m\n    \u001b[90m372| \u001b[39m      \u001b[90m// 添加到状态\u001b[39m\n\n\u001b[31m\u001b[2m⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯[4/27]⎯\u001b[22m\u001b[39m\n\n\u001b[41m\u001b[1m FAIL \u001b[22m\u001b[49m tests/integration/system-integration.test.js\u001b[2m > \u001b[22m系统集成测试\u001b[2m > \u001b[22m工具函数集成\u001b[2m > \u001b[22m应该能使用函数式编程工具\n\u001b[31m\u001b[1mTypeError\u001b[22m: utils.chain is not a function\u001b[39m\n\u001b[36m \u001b[2m❯\u001b[22m tests/integration/system-integration.test.js:\u001b[2m136:28\u001b[22m\u001b[39m\n    \u001b[90m134| \u001b[39m\n    \u001b[90m135| \u001b[39m      \u001b[90m// 使用链式调用\u001b[39m\n    \u001b[90m136| \u001b[39m      \u001b[35mconst\u001b[39m result \u001b[33m=\u001b[39m utils\u001b[33m.\u001b[39m\u001b[34mchain\u001b[39m(data)\n    \u001b[90m   | \u001b[39m                           \u001b[31m^\u001b[39m\n    \u001b[90m137| \u001b[39m        \u001b[33m.\u001b[39m\u001b[34mfilter\u001b[39m((item) \u001b[33m=>\u001b[39m item\u001b[33m.\u001b[39mactive)\n    \u001b[90m138| \u001b[39m        \u001b[33m.\u001b[39m\u001b[34mmap\u001b[39m((item) \u001b[33m=>\u001b[39m item\u001b[33m.\u001b[39mname)\n\n\u001b[31m\u001b[2m⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯⎯[5/27]⎯\u001b[22m\u001b[39m\n\n",
    "测试覆盖率检查: spawnSync C:\\Windows\\system32\\cmd.exe ENOBUFS"
  ],
  "warnings": [
    "覆盖率报告文件不存在"
  ],
  "summary": {
    "status": "FAILED",
    "totalChecks": 7,
    "passed": 5,
    "failed": 2,
    "warnings": 1
  }
}